import { useCallback } from 'react';

type Dict = Record<string, string>;

const en: Dict = {
  'app.title': 'Sereus Health',
  'navigation.home': 'Home',
  'navigation.catalog': 'Catalog',
  'navigation.assistant': 'Assistant',
  'navigation.settings': 'Settings',
  'common.loading': 'Loading…',
  'common.search': 'Search…',
  'common.done': 'Done',
  'common.now': 'Now',
  'common.cancel': 'Cancel',
  'common.delete': 'Delete',
  'common.notImplementedTitle': 'Not implemented',
  'common.notImplementedBody': 'This will be generated in a later slice.',
  'logHistory.title': 'History',
  'logHistory.filterPlaceholder': 'Filter entries…',
  'logHistory.emptyTitle': 'No entries yet',
  'logHistory.emptyMessage': 'Get started by importing a catalog or creating your first entry.',
  'logHistory.emptyImportBuiltin': 'Import minimal starter categories',
  'logHistory.emptyBrowseOnline': 'Browse more catalogs online',
  'logHistory.emptyCreateFirst': 'Create your first entry',
  'logHistory.errorLoading': 'Failed to load history.',
  'logHistory.retry': 'Retry',
  'logHistory.clone': 'Clone',
  'logHistory.itemsMore': '+{count} more',

  'editEntry.titleNew': 'New Entry',
  'editEntry.titleEdit': 'Edit Entry',
  'editEntry.titleClone': 'Clone Entry',
  'editEntry.type': 'Type',
  'editEntry.category': 'Category',
  'editEntry.items': 'Items',
  'editEntry.quantifiers': 'Quantifiers',
  'editEntry.timestamp': 'Timestamp',
  'editEntry.comment': 'Comment',
  'editEntry.commentPlaceholder': 'Add a note (optional)…',
  'editEntry.selectType': 'Select Type',
  'editEntry.selectCategory': 'Select Category',
  'editEntry.selectItems': 'Select Items',
  'editEntry.bundle': 'Bundle',
  'editEntry.add': 'Add Entry',
  'editEntry.save': 'Save',
  'editEntry.clone': 'Clone Entry',
  'editEntry.deleteTitle': 'Delete entry?',
  'editEntry.deleteConfirm': 'This cannot be undone.',
  'editEntry.errorLoading': 'Failed to load entry.',
  'editEntry.errorSaving': 'Failed to save entry.',

  'configureCatalog.title': 'Catalog',
  'configureCatalog.filterPlaceholder': 'Filter…',
  'configureCatalog.items': 'Items',
  'configureCatalog.bundles': 'Bundles',
  'configureCatalog.emptyItemsTitle': 'No items yet',
  'configureCatalog.emptyItemsBody': 'Add your first item to start building your catalog.',
  'configureCatalog.emptyBundlesTitle': 'No bundles yet',
  'configureCatalog.emptyBundlesBody': 'Create a bundle to group items together.',
  'configureCatalog.bundleCount': '{count} items',
  'configureCatalog.errorLoading': 'Failed to load catalog.',

  'editItem.addTitle': 'Add Item',
  'editItem.editTitle': 'Edit Item',
  'editItem.loadError': 'Failed to load item.',
  'editItem.saveError': 'Failed to save item.',
  'editItem.validationTitle': 'Fix this',
  'editItem.nameLabel': 'Name *',
  'editItem.namePlaceholder': 'e.g., Omelette, Running, Headache',
  'editItem.descriptionLabel': 'Description (optional)',
  'editItem.descriptionPlaceholder': 'Add notes about this item…',
  'editItem.typeLabel': 'Type *',
  'editItem.categoryLabel': 'Category *',
  'editItem.selectCategory': 'Select or create category…',
  'editItem.createCategory': 'Create new category',
  'editItem.newCategory': 'New Category',
  'editItem.categoryNamePlaceholder': 'Category name…',
  'editItem.quantifiers': 'Quantifiers',
  'editItem.noQuantifiers': 'No quantifiers defined. Tap + to add one.',
  'editItem.addQuantifier': 'Add Quantifier',
  'editItem.editQuantifier': 'Edit Quantifier',
  'editItem.quantifierName': 'Name *',
  'editItem.quantifierNamePlaceholder': 'e.g., Intensity, Duration, Amount',
  'editItem.quantifierNameRequired': 'Please enter a quantifier name.',
  'editItem.minValue': 'Min Value (optional)',
  'editItem.maxValue': 'Max Value (optional)',
  'editItem.units': 'Units (optional)',
  'editItem.unitsPlaceholder': 'e.g., scale, minutes, reps',
  'editItem.noRange': 'No range',
  'editItem.deleteQuantTitle': 'Delete quantifier?',
  'editItem.deleteQuantConfirm': 'This cannot be undone.',

  'editBundle.addTitle': 'Add Bundle',
  'editBundle.editTitle': 'Edit Bundle',
  'editBundle.loadError': 'Failed to load bundle.',
  'editBundle.saveError': 'Failed to save bundle.',
  'editBundle.nameLabel': 'Name *',
  'editBundle.namePlaceholder': 'e.g., BLT, Morning Routine',
  'editBundle.typeLabel': 'Type *',
  'editBundle.itemsInBundle': 'Items in Bundle',
  'editBundle.emptyItems': 'Tap + to add items.',
  'editBundle.minOneTitle': 'At least one item',
  'editBundle.minOneBody': 'A bundle must contain at least one item.',
  'editBundle.addItemsTitle': 'Add Items to Bundle',
  'editBundle.searchItems': 'Search items…',
  'editBundle.alreadyInBundle': 'in bundle',
  'editBundle.addSelected': 'Add {count} Selected Items',

  'graphs.title': 'Graphs',
  'graphs.emptyTitle': 'No graphs yet',
  'graphs.emptyMessage': 'Create your first graph to visualize trends in your data.',
  'graphs.create': 'Create Graph',
  'graphs.errorLoading': 'Failed to load graphs.',

  'graphCreate.title': 'Create Graph',
  'graphCreate.name': 'Graph Name *',
  'graphCreate.namePlaceholder': 'Graph name…',
  'graphCreate.filterLabel': 'Filter',
  'graphCreate.selectItems': 'Select Items',
  'graphCreate.noItems': 'No items available.',
  'graphCreate.last7Days': 'Last 7 days',
  'graphCreate.last30Days': 'Last 30 days',
  'graphCreate.last90Days': 'Last 90 days',
  'graphCreate.allTime': 'All time',
  'graphCreate.generate': 'Generate Graph',
  'graphCreate.errorLoading': 'Failed to load items.',
  'common.error': 'Error',
  'graphView.shareError': 'Failed to share graph.',
  'graphView.visualization': 'Graph Visualization',
  'graphView.chartPending': 'Chart library integration pending.',
  'graphView.legend': 'Legend',
  'graphView.dateRange': 'Date Range',

  'settings.title': 'Settings',
  'settings.sereusConnections': 'Sereus Connections',
  'settings.reminders': 'Reminders',
  'settings.preferences': 'Preferences',
  'settings.theme': 'Theme',
  'settings.backupRestore': 'Backup & Restore',
  'settings.about': 'About',
  'settings.debug': 'Debug (dev)',

  'sereus.title': 'Sereus Connections',
  'sereus.sectionCadre': 'My Nodes',
  'sereus.sectionGuests': 'Guest Nodes',
  'sereus.statusOnline': 'Online',
  'sereus.statusUnreachable': 'Unreachable',
  'sereus.emptyTitle': 'No shared access',
  'sereus.emptyBody': 'Scan a QR code from a healthcare provider to share your data.',
  'sereus.errorLoading': 'Failed to load nodes.',
  'sereus.scanNotImplemented': 'QR scanning will be implemented in a later slice.',
  'sereus.removeCadreTitle': 'Remove node?',
  'sereus.removeCadreBody': 'Removing a node may reduce data redundancy.',
  'sereus.revokeGuestTitle': 'Revoke access?',
  'sereus.revokeGuestBody': 'This guest node will no longer have access to your data.',

  'reminders.title': 'Reminders',
  'reminders.interval': "Remind me if I haven't logged anything in:",
  'reminders.off': 'Off',
  'reminders.hours': '{count} hours',
  'reminders.futureTitle': 'Future reminder options:',
  'reminders.futureList': '• Smart reminders based on patterns\n• Quiet hours\n• Custom messages',

  'backupRestore.title': 'Backup & Restore',
  'backupRestore.statusTitle': 'Status',
  'backupRestore.statusLastBackupNever': 'Last backup: Never',
  'backupRestore.statusModifiedUnknown': 'Modified since last backup: Unknown',
  'backupRestore.export': 'Export Backup',
  'backupRestore.import': 'Import / Restore',
  'backupRestore.dangerZone': 'Danger zone (dev)',
  'backupRestore.clearData': 'Clear Local Data',
  'backupRestore.clearDataTitle': 'Clear Local Data',
  'backupRestore.clearDataConfirm': 'This will delete all your data. Continue?',
  'backupRestore.clearDataAction': 'Clear',
  'backupRestore.clearDataDone': 'Done. Fully close and relaunch the app.',
  'backupRestore.clearDataFailed': 'Failed. See logs for details.',
};

export function useT() {
  // Important: return a stable function so components can safely depend on it in useEffect/useMemo.
  return useCallback((key: string, params?: Record<string, string | number>) => {
    const template = en[key] ?? key;
    if (!params) return template;
    return template.replace(/\{(\w+)\}/g, (_, k) => String(params[k] ?? `{${k}}`));
  }, []);
}


